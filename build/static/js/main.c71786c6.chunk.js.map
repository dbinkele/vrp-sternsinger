{"version":3,"sources":["components/TopMenu.js","components/SideMenu.js","components/Footer.js","components/input/custom/Tour/ConstTable.js","util/tools.js","modules/tourItemsActions.js","util/UploadTourItems.js","components/input/custom/Tour/TourItems.js","components/input/custom/ToDoList/components/AddTodo.js","components/input/custom/TourItemsSubSet/TransferList.js","components/input/custom/TourItemsSubSet/ChipsArray.js","components/input/custom/TourItemsSubSet/TourItemsSubset.js","components/input/custom/ToDoList/components/TodoListItem.js","modules/todoActions.js","components/input/custom/ToDoList/components/TodoList.js","components/input/custom/ToDoList/ToDo.js","components/input/custom/Tour/Settings.js","components/input/custom/Tour/CustomAccordion.js","components/input/custom/Tour/TourOptions.js","components/MainContent.js","components/RouteIdContext.js","pages/Home.js","App.js","serviceWorker.js","modules/SettingsReducer.js","modules/index.js","index.js"],"names":["makeStyles","theme","appBar","width","marginLeft","menuButton","marginRight","spacing","title","flexGrow","TopMenu","drawer","flexShrink","drawerPaper","backgroundImage","color","bigAvatar","margin","height","top","bottom","footer","fontSize","Footer","moment","require","tableIcons","Add","forwardRef","props","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","isObligatory","data","isValid","helperText","round","dec","parseFloat","toFixed","Timepicker2","value","onChange","error","utils","DateFnsUtils","TimePicker","clearable","ampm","emptyLabel","style","cols","field","validate","rowData","code","obligatory","test","length","validatePostalCode","cwidth","initialEditValue","cellStyle","wordBreak","street","type","validateNumber","number","tourItemsCols","startTime","concat","validateStartTimeWindow","render","renderTime","timewindowstart","editComponent","validateEndTimeWindow","timewindowend","editable","lat","lon","format","timewindowstartAbsent","timewindowEndAbsent","isBefore","isAfter","not","a","b","filter","indexOf","intersection","tourItemsReducer","handleActions","state","action","tourItems","payload","index","slice","item","Upload","dispatch","useDispatch","dropzoneRef","createRef","onDrop","useCallback","acceptedFiles","reader","FileReader","onloadend","file","content","result","console","log","JSON","parse","readAsText","useDropzone","accept","minSize","maxSize","isDragActive","getRootProps","getInputProps","isDragReject","rejectedFiles","isFileTooLarge","size","className","Button","variant","onClick","current","open","withCoordinates","row","resolve","reject","url","axios","get","timeout","then","res","firstHit","catch","err","response","request","TourItems","enqueueSnackbar","useSnackbar","items","useSelector","options","paging","icons","columns","onRowAdd","newData","Promise","setTimeout","id","uuidv1","replace","label","name","arg","onRowUpdate","oldData","tableData","updateTourItemActionCreator","onRowDelete","removeTourItemActionCreator","AddTodo","memo","Grid","container","xs","md","fullWidth","onButtonClick","useStyles","root","paper","overflow","button","TransferList","left","right","handleAllRight","handleCheckedRight","handleCheckedLeft","handleAllLeft","classes","React","useState","checked","setChecked","leftChecked","rightChecked","handleToggle","currentIndex","newChecked","push","splice","customList","header","Paper","maxHeight","maxWidth","List","component","role","subheader","ListSubheader","map","labelId","ListItem","key","ListItemIcon","Checkbox","tabIndex","disableRipple","inputProps","ListItemText","primary","direction","disabled","aria-label","display","justifyContent","flexWrap","listStyle","padding","chip","ChipsArray","moveConstraints","SortableItem","SortableElement","Chip","icon","SortableList","SortableContainer","onSortEnd","makeMoveConstraints","constraints","setConstraints","oldIndex","newIndex","arrayMove","TourItemsSubset","selected","globalConstraint","setGlobalConstraint","setConsts","addConst","setRight","availableTourItems","setLeft","newItems","newLeft","newRight","old","rightValue","TodoListItem","divider","ContainerComponent","onCheckBoxToggle","ListItemSecondaryAction","IconButton","newState","toDoIdx","changedTodo","todos","todoReducer","todo","currIndex","updateHlp","constraint","constrIdx","oldToDo","minWidth","TodoList","todoIdx","onItemRemove","onItemCheck","todoItem","idx","constr","TodoApp","maxToDo","passOnProps","useEffect","noVehicles","Number","diff","i","justify","alignItems","Settings","register","errors","control","message","undefined","preventDuplicate","email","vehicles","defaultDuration","weight_visits","weight_length","depot","starttime","planningType","FormControl","Boolean","InputLabel","as","Select","MenuItem","rules","required","defaultValue","TextField","autoComplete","inputRef","pattern","min","max","heading","typography","pxToRem","flexBasis","secondaryHeading","palette","text","secondary","CustomAccordion","panel","details","expanded","setExpanded","Accordion","event","isExpanded","handleChange","AccordionSummary","expandIcon","aria-controls","Typography","AccordionDetails","postRequest","json","requestOptions","method","headers","body","stringify","fetch","ok","status","constraintsToTourItemsIndex","theState","tourItemsIds","x","y","z","uiToJson","trigger","getValues","settingsValues","recipent","num_visits_to_max_tour_len_ration","num_vehicles","duration","fixed_arcs","assign_to_route","same_route","same_route_ordered","different_route","dwell_duration","dwellDuration","time_windows","timeWindow","hasOwnProperty","timeDiffMinutes","later","earlier","Math","asMinutes","interval","TourOptionsForm","setStartTime","useForm","mode","defaultValues","weight_lenght","watch","watchVehicles","watchStartTime","MAX_VALUE","document","createElement","Blob","href","URL","createObjectURL","download","click","createContext","toolbar","mixins","backgroundColor","background","default","MainContent","maxSnack","TourOptions","Home","App","window","location","hostname","match","settingsReducer","allReducers","combineReducers","ReactDOM","store","createStore","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c71786c6.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Face';\nimport { MenuItem } from '@material-ui/core';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n    appBar: {\n        width: `calc(100% - ${drawerWidth}px)`,\n        marginLeft: drawerWidth,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n}));\n\nfunction TopMenu() {\n    const classes = useStyles();\n\n    return (\n        <AppBar position='fixed' className={classes.appBar}>\n            <Toolbar>\n                <IconButton\n                    edge='start'\n                    className={classes.menuButton}\n                    color='inherit'\n                    aria-label='menu'\n                >\n                    <MenuIcon />\n                </IconButton>\n                <MenuItem>\n                    <Typography variant='h6' className={classes.title}>\n                        Home\n          </Typography>\n                </MenuItem>\n                <MenuItem>\n                    <Typography variant='h6' className={classes.title}>\n                        About\n          </Typography>\n                </MenuItem>\n            </Toolbar>\n        </AppBar>\n    );\n}\n\nexport default TopMenu;","import React from 'react';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport ExitToApp from '@material-ui/icons/ExitToApp';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Avatar } from '@material-ui/core';\nimport { Grid } from '@material-ui/core';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n    drawer: {\n        width: drawerWidth,\n        flexShrink: 0,\n    },\n    drawerPaper: {\n        width: drawerWidth,\n        backgroundImage: `linear-gradient(#cfd9df,#e2ebf0)`,\n        color: 'grey',\n    },\n    bigAvatar: {\n        margin: 30,\n        width: 100,\n        height: 100,\n    },\n}));\n\nfunction SideMenu() {\n    const classes = useStyles();\n\n    return (\n        <Drawer\n            open={true}\n            variant='permanent'\n            anchor='left'\n            className={classes.drawer}\n            classes={{\n                paper: classes.drawerPaper,\n            }}\n        >\n            <Grid container justify='center' alignItems='center'>\n                <Avatar\n                    src='https://helpx.adobe.com/content/dam/help/en/stock/how-to/visual-reverse-image-search/jcr_content/main-pars/image/visual-reverse-image-search-v2_intro.jpg'\n                    className={classes.bigAvatar}\n                />\n            </Grid>\n            <List>\n                {['Profile', 'Sign Out'].map((text, index) => (\n                    <ListItem button key={text}>\n                        <ListItemIcon>\n                            {index % 2 === 0 ? <AccountCircle /> : <ExitToApp />}\n                        </ListItemIcon>\n                        <ListItemText primary={text} />\n                    </ListItem>\n                ))}\n            </List>\n        </Drawer>\n    );\n}\n\nexport default SideMenu;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Typography from '@material-ui/core/Typography';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n    appBar: {\n        top: 'auto',\n        bottom: 0,\n        width: `calc(100% - ${drawerWidth}px)`,\n        marginLeft: drawerWidth,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n        marginLeft: 10,\n    },\n    footer: {\n        marginLeft: 20,\n        fontSize: 17,\n    },\n}));\n\nfunction Footer() {\n    const classes = useStyles();\n    return (\n        <AppBar position='fixed' className={classes.appBar}>\n            <Typography variant='h6' className={classes.footer}>\n                Â© Copyright 2019\n      </Typography>\n        </AppBar>\n    );\n}\n\nexport default Footer;","import React, {forwardRef} from \"react\";\n\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\n\n\nimport {\n    MuiPickersUtilsProvider, TimePicker\n} from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\n\nconst moment = require('moment')\n\nexport const tableIcons = {\n    Add: forwardRef((props, ref) => <AddBox {...props} ref={ref}/>),\n    Check: forwardRef((props, ref) => <Check {...props} ref={ref}/>),\n    Clear: forwardRef((props, ref) => <Clear {...props} ref={ref}/>),\n    Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref}/>),\n    DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref}/>),\n    Edit: forwardRef((props, ref) => <Edit {...props} ref={ref}/>),\n    Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref}/>),\n    Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref}/>),\n    FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref}/>),\n    LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref}/>),\n    NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref}/>),\n    PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref}/>),\n    ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref}/>),\n    Search: forwardRef((props, ref) => <Search {...props} ref={ref}/>),\n    SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref}/>),\n    ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref}/>),\n    ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref}/>)\n};\n\nconst onlyNumbersInString = (str) => {\n    let pattern = /^\\d+$/;\n    return pattern.test(str);  // returns a boolean\n}\n\nconst isObligatory = (data) => {\n    if (!data || data === \"\") {\n        return {isValid: false, helperText: 'Is obligatory'}\n    }\n    return {isValid: true}\n}\n\nconst validateNumber = (data) => {\n    let obligatory = isObligatory(data);\n    if (!obligatory.isValid) return obligatory;\n    if (data <= 0) {\n        return {isValid: false, helperText: 'must be greater zero'}\n    }\n    return {isValid: true}\n}\n\n\nconst validatePostalCode = (code) => {\n    let obligatory = isObligatory(code);\n    if (!obligatory.isValid) return obligatory;\n    if (!onlyNumbersInString(code)) {\n        return {isValid: false, helperText: 'Only Numbers!'}\n    }\n    if (code.length !== 5) {\n        return {isValid: false, helperText: 'Exactly 5 digits'}\n    }\n    return {isValid: true}\n}\n\n\nconst round = (data, dec) => {\n    return !!data ? parseFloat(data).toFixed(dec) : \"\";\n}\n\nconst Timepicker2 = (props) => {\n    const {value, onChange, error, helperText} = props;\n    return <>\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <TimePicker\n                clearable\n                ampm={false}\n                emptyLabel={''}\n                value={!value ? null : value}\n                onChange={onChange}\n            />\n        </MuiPickersUtilsProvider>\n        {error && <p style={{color: 'red'}}>{helperText} </p>}\n    </>\n}\n\nexport const cols = [\n    {\n        title: 'Postal Code',\n        field: 'code',\n        validate: rowData => validatePostalCode(rowData.code),\n    },\n    {\n        title: 'City', field: 'city', cwidth: 'auto', initialEditValue: ' '\n    },\n    {\n        title: 'Street', field: 'street', cellStyle: {wordBreak: 'break-all'},\n        validate: rowData => isObligatory(rowData.street),\n    },\n    {\n        title: 'Number', field: 'number', type: 'numeric',\n        validate: rowData => validateNumber(rowData.number),\n    },\n    {title: 'Name', field: 'name', initialEditValue: ' '},\n    {\n        title: 'Duration Minutes', field: 'duration', type: 'numeric',\n    },\n    {title: 'Hint', field: 'hint', initialEditValue: ' '}\n]\n\nexport const tourItemsCols = (startTime) => {\n    return cols.concat([\n        {\n            title: \"Start Time Window\",\n            field: \"timewindowstart\",\n            type: \"datetime\",\n            validate: rowData => validateStartTimeWindow(rowData, startTime),\n            render: (data) => renderTime(data.timewindowstart),\n            editComponent: Timepicker2\n        },\n        {\n            title: \"End Time Window\",\n            field: \"timewindowend\",\n            type: \"datetime\",\n            validate: rowData => validateEndTimeWindow(rowData, startTime),\n            render: (data) => renderTime(data.timewindowend),\n            editComponent: Timepicker2\n        },\n        {\n            title: 'Latitude', field: 'lat', editable: 'never',\n            render: rowData => round(rowData.lat, 4)\n        },\n        {\n            title: 'Longitude', field: 'lon', editable: 'never',\n            render: rowData => round(rowData.lon, 4)\n        }])\n}\n\nconst renderTime = data => {\n    if (data === null || !data) {\n        return \"\";\n    }\n    return moment(data).format(\"hh:mm A\");\n}\n\n\nfunction timewindowstartAbsent(rowData) {\n    return !(\"timewindowstart\" in rowData) || rowData.timewindowstart == null;\n}\n\nfunction timewindowEndAbsent(rowData) {\n    return !(\"timewindowend\" in rowData) || rowData.timewindowend == null;\n}\n\nconst validateStartTimeWindow = (rowData, startTime) => {\n    if (!timewindowstartAbsent(rowData) && startTime != null) {\n        if (moment(rowData.timewindowstart).isBefore(moment(startTime))) {\n            return {\n                isValid: false,\n                helperText: 'End of time window not after global start time ' + moment(startTime).format(\"hh:mm A\")\n            }\n        }\n    }\n    if (timewindowstartAbsent(rowData) && !timewindowEndAbsent(rowData)) {\n        return {isValid: false, helperText: 'End of time window given, but not start'}\n    }\n    if (!timewindowstartAbsent(rowData) && !timewindowEndAbsent(rowData)) {\n        if (moment(rowData.timewindowstart).isAfter(moment(rowData.timewindowend))) {\n            return {isValid: false, helperText: 'Start of time window before end'}\n        }\n    }\n    return {isValid: true}\n}\n\n\nconst validateEndTimeWindow = (rowData, startTime) => {\n    if (!timewindowEndAbsent(rowData) && startTime != null) {\n        if (moment(rowData.timewindowend).isBefore(moment(startTime))) {\n            return {\n                isValid: false,\n                helperText: 'End of time window not after global start time ' + moment(startTime).format(\"hh:mm A\")\n            }\n        }\n    }\n    if (timewindowEndAbsent(rowData) && !timewindowstartAbsent(rowData)) {\n        return {isValid: false, helperText: 'Start of time window given, but not end'}\n    }\n    if (!timewindowstartAbsent(rowData) && !timewindowEndAbsent(rowData)) {\n        if (moment(rowData.timewindowstart).isAfter(moment(rowData.timewindowend))) {\n            return {isValid: false, helperText: 'Start of time window before end'}\n        }\n    }\n    return {isValid: true}\n}","import {v1 as uuidv1} from 'uuid';\n\nexport const url = () => {\n\n    if (process.env.NODE_ENV === 'development' || true) {//ToDo\n        return 'http://localhost:5000/'\n    }\n    if (process.env.NODE_ENV === 'production') {//ToDo delete as react is served by python now\n        return 'https://mighty-cliffs-46044.herokuapp.com/'\n    }\n}\n\nexport function not(a, b) {\n    return a.filter((value) => b.indexOf(value) === -1);\n}\n\nexport function intersection(a, b) {\n    return a.filter((value) => b.indexOf(value) !== -1);\n}\n\n// diff between just two arrays:\nexport const arrayDiff = (a, b) => {\n    return [\n        ...a.filter(x => !b.includes(x)),\n        ...b.filter(x => !a.includes(x))\n    ];\n}\n\nexport const partition = (ary, callback) =>\n    ary.reduce((acc, e) => {\n        acc[callback(e) ? 0 : 1].push(e)\n        return acc\n    }, [[], []])\n\nexport const uuid = () => {\n    const url = URL.createObjectURL(new Blob())\n    const [id] = url.toString().split('/').reverse()\n    URL.revokeObjectURL(url)\n    return id\n}\n\nexport const timeorderedUuid = () => {\n    return uuidv1().replace(/^(.{8})-(.{4})-(.{4})/, '$3-$2-$1');\n}\n\nexport const uuidCompare = (a, b) => {\n    return a < b ? -1 : (a > b ? 1 : 0);\n}\n\nconst _ = require('lodash/core');\nexport const diff = (prevData, data) => {\n    let prevDataId = prevData.map(x => x.id);\n    let [added, present] = partition(data, x => !prevDataId.includes(x.id));\n    let [updated, untouched] = partition(present, x => !prevData.find(y => _.isEqual(x, y)))\n    return [added, updated, untouched];\n}\n\nexport const round = (num, dec) => {\n\n    if ((typeof num !== 'number') || (typeof dec !== 'number'))\n        return false;\n\n    var num_sign = num >= 0 ? 1 : -1;\n\n    return (Math.round((num*Math.pow(10,dec))+(num_sign*0.0001))/Math.pow(10,dec)).toFixed(dec);\n}\n// Hook\n\n\n\n\n\n\n","import {handleActions} from 'redux-actions'\n\nconst ADD_TOUR_ITEM = 'ADD_TOUR_ITEM'\nconst REMOVE_TOUR_ITEM = 'REMOVE_TOUR_ITEM'\nconst UPDATE_TOUR_ITEM = 'UPDATE_TOUR_ITEM'\nconst REFRESH = 'REFRESH'\n\nexport const addTourItemActionCreator = item => {\n    return {\n        type: ADD_TOUR_ITEM,\n        payload: item\n    }\n}\n\nexport const removeTourItemActionCreator = index => {\n    return {\n        type: REMOVE_TOUR_ITEM,\n        payload: index\n    }\n}\n\n\nexport const updateTourItemActionCreator = (item, index) => {\n    return {\n        type: UPDATE_TOUR_ITEM,\n        payload: {\n            item: item,\n            index: index\n        }\n    }\n}\n\nexport const refreshTourItemAction = (items) => {\n    return {\n        type: REFRESH,\n        payload: items\n    }\n}\n\nexport const tourItemsReducer = handleActions({\n        [REFRESH]: (state, action) => {\n            return {\n                tourItems: action.payload\n            };\n        },\n        [ADD_TOUR_ITEM]: (state, action) => {\n            if (state.tourItems == null){\n                return {\n                    tourItems: [action.payload]\n                };\n            }\n            return {\n                tourItems: [...state.tourItems, action.payload]\n            };\n        },\n        [REMOVE_TOUR_ITEM]: (state, action) => {\n            const index = action.payload;\n            return {\n                tourItems: [\n                    ...state.tourItems.slice(0, index),\n                    ...state.tourItems.slice(index + 1)\n                ]\n            };\n        },\n        [UPDATE_TOUR_ITEM]: (state, action) => {\n            const {item, index} = action.payload;\n            return {\n                tourItems: [\n                    ...state.tourItems.slice(0, index),\n                    item,\n                    ...state.tourItems.slice(index + 1)\n                ]\n            };\n        }\n    },\n    {\n        tourItems: []\n    })\n\n\n","import React, {createRef, Fragment, useCallback} from 'react';\nimport {useDropzone} from \"react-dropzone\";\nimport Button from \"@material-ui/core/Button\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {refreshTourItemAction} from \"../modules/tourItemsActions\";\n\nconst Upload = () => {\n\n    const dispatch = useDispatch();\n    //const items = useSelector(state => state.tourItemsReducer.tourItems);\n\n    const dropzoneRef = createRef();\n    const openDialog = () => {\n        // Note that the ref is set async,\n        // so it might be null at some point\n        if (dropzoneRef.current) {\n            dropzoneRef.current.open()\n        }\n    };\n    const maxSize = 1048576;\n\n    const onDrop = useCallback(acceptedFiles => {\n        const reader = new FileReader()\n        reader.onloadend =  (file) => {\n            let content = reader.result;\n            console.log(\"-------> result\");\n            console.log(content);\n            dispatch(refreshTourItemAction(JSON.parse(content)));\n        };\n        reader.readAsText(acceptedFiles[0])\n    }, []);\n\n    const {isDragActive, getRootProps, getInputProps, isDragReject, acceptedFiles, rejectedFiles} = useDropzone({\n        onDrop,\n        accept: 'application/json',\n        minSize: 0,\n        maxSize,\n    });\n\n    const isFileTooLarge = !!rejectedFiles && rejectedFiles.length > 0 && rejectedFiles[0].size > maxSize;\n\n    return (\n        <div className=\"upload-dropzone\">\n            <div {...getRootProps()}>\n                <input {...getInputProps()} />\n                <p>\n                    {!isDragActive && 'Click here or drop a file to upload!'}\n                    {isDragActive && !isDragReject && \"Drop it like it's hot!\"}\n                    {isDragReject && \"File type not accepted, sorry!\"}\n                    {isFileTooLarge && (\n                        <div className=\"text-danger mt-2\">\n                            File is too large.\n                        </div>\n                    )}\n                </p>\n                <Button\n                    color=\"secondary\"\n                    variant=\"outlined\"\n                    onClick={openDialog}\n                >\n                    Open File Dialog\n                </Button>\n            </div>\n        </div>)\n}\n\nexport default Upload;","import React from \"react\";\nimport MaterialTable from \"material-table\";\nimport {tableIcons, tourItemsCols} from './ConstTable'\nimport {timeorderedUuid} from \"../../../../util/tools\";\nimport {useDispatch, useSelector} from 'react-redux'\nimport axios from 'axios';\nimport {\n    addTourItemActionCreator,\n    removeTourItemActionCreator,\n    updateTourItemActionCreator\n} from '../../../../modules/tourItemsActions.js'\n\nimport {useSnackbar} from 'notistack';\nimport Upload from \"../../../../util/UploadTourItems\";\n\n\nconst TourItems = (props) => {\n    const {enqueueSnackbar} = useSnackbar();\n    const dispatch = useDispatch();\n    const items = useSelector(state => state.tourItemsReducer.tourItems);\n\n    const {startTime} = props;\n\n    return (\n        <>\n            <MaterialTable\n                options={{paging: false}}\n                icons={tableIcons}\n                title=\"Tour Items\"\n                columns={tourItemsCols(startTime)}\n                data={items}\n                editable={{\n                    onRowAdd: newData =>\n                        new Promise((resolve, reject) => {\n                            setTimeout(() => {\n                                withCoordinates(newData,\n                                    () => {\n                                        newData.id = timeorderedUuid();\n                                        newData.label = newData.code + '/' + newData.street + '. ' + newData.number;\n                                        newData.label += !!newData.name ? '/' + newData.name : '';\n                                        dispatch(addTourItemActionCreator(newData));\n                                        //props.addTourItem(newData);\n                                        resolve();\n                                    },\n                                    (arg) => {\n                                        enqueueSnackbar(arg, {variant: 'error'});\n                                        reject(arg)\n                                    });\n                            }, 10)\n                        }),\n                    onRowUpdate: (newData, oldData) =>\n                        new Promise((resolve, reject) => {\n                            setTimeout(() => {\n                                withCoordinates(newData, () => {\n                                    const index = oldData.tableData.id;\n                                    dispatch(updateTourItemActionCreator(newData, index));\n                                   // props.updateTourItem(newData, index);\n                                    resolve();\n                                }, (arg) => {\n                                    enqueueSnackbar(arg, {variant: 'error'});\n                                    reject(arg)\n                                })\n                            }, 10)\n                        }),\n                    onRowDelete: oldData =>\n                        new Promise((resolve, reject) => {\n                            setTimeout(() => {\n                                const index = oldData.tableData.id;\n                                dispatch(removeTourItemActionCreator(index));\n                               // props.removeTourItem(index);\n                                resolve();\n                            }, 10)\n                        }),\n                }}\n            />\n            <Upload/>\n            </>\n    )\n\n}\n\n\nconst withCoordinates = (row, resolve, reject) => {\n    let url = `https://nominatim.openstreetmap.org/search?format=json&country=de&postalcode=${row.code}&street=${row.number}+${row.street}`;\n    axios.get(url, {timeout: 5000})\n        .then(res => res.data)\n        .then(data => {\n            if (data.length > 0) {\n                let firstHit = data[0];\n                if (firstHit.lat != null && firstHit.lon != null) {\n                    row.lat = firstHit.lat;\n                    row.lon = firstHit.lon;\n                    resolve();\n                    return;\n                }\n            }\n            reject(\"Wrong Address!\")\n        })\n        .catch(err => {\n            if (err.response) {\n                // client received an error response (5xx, 4xx)\n                reject(\"Bad Response  \" + err);\n            } else if (err.request) {\n                // client never received a response, or request never left\n                reject(\"No Response  \" + err);\n            } else {\n                // anything else\n                reject(\"Unspecified Error  \" + err);\n            }\n        })\n}\n\n\nexport default TourItems;","import React, { memo } from \"react\";\nimport { Button, Grid } from \"@material-ui/core\";\n\nconst AddTodo = memo(props => (\n\n    <Grid container>\n      <Grid xs={2} md={1} item>\n        <Button\n          fullWidth\n          color=\"secondary\"\n          variant=\"outlined\"\n          onClick={props.onButtonClick}\n        >\n          Add\n        </Button>\n      </Grid>\n    </Grid>\n));\n\nexport default AddTodo;\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport {intersection, not} from \"../../../../util/tools\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: 'auto',\n    },\n    paper: {\n        width: 200,\n        height: 230,\n        overflow: 'auto',\n    },\n    button: {\n        margin: theme.spacing(0.5, 0),\n    },\n}));\n\n\nconst TransferList = ({left, right, handleAllRight, handleCheckedRight, handleCheckedLeft, handleAllLeft}) => {\n    const classes = useStyles();\n    const [checked, setChecked] = React.useState([]);\n\n    const leftChecked = intersection(checked, left);\n    const rightChecked = intersection(checked, right);\n\n\n    const handleToggle = (value) => () => {\n        const currentIndex = checked.indexOf(value);\n        const newChecked = [...checked];\n\n        if (currentIndex === -1) {\n            newChecked.push(value);\n        } else {\n            newChecked.splice(currentIndex, 1);\n        }\n\n        setChecked(newChecked);\n    };\n\n\n\n    const handleCheckedRightInternal = () => {\n        handleCheckedRight(leftChecked);\n        setChecked(not(checked, leftChecked));\n    };\n\n    const handleCheckedLeftInernal = () => {\n        handleCheckedLeft(rightChecked);\n        setChecked(not(checked, rightChecked));\n    };\n\n\n\n    const customList = (items, header) => (\n        <Paper  style={{width: '200px', height: '200px', maxHeight: 'unset', maxWidth: 'unset', overflow: 'auto'}}\n               className={classes.paper}>\n            <List style={{width: '100%'}} component=\"div\" role=\"list\"\n                  subheader={\n                      <ListSubheader component=\"div\" id=\"nested-list-subheader\">\n                          {header}\n                      </ListSubheader>\n                  }\n\n            >\n                {items.map((value) => {\n                    const labelId = value.id;\n\n                    return (\n                        <ListItem key={labelId} role=\"listitem\" button={true} onClick={handleToggle(value)}   >\n                            <ListItemIcon>\n                                <Checkbox\n                                    checked={checked.indexOf(value) !== -1}\n                                    tabIndex={-1}\n                                    disableRipple\n                                    inputProps={{'aria-labelledby': labelId}}\n                                />\n                            </ListItemIcon>\n                            <ListItemText id={labelId} primary={value.label}/>\n                        </ListItem>\n                    );\n                })}\n                <ListItem/>\n            </List>\n        </Paper>\n    );\n\n    return (\n        <Grid container direction=\"row\" className={classes.root}  >\n            <Grid item>{customList(left, 'Available')}</Grid>\n            <Grid item>\n                <Grid container direction=\"column\">\n                    <Button\n                        variant=\"outlined\"\n                        size=\"small\"\n                        className={classes.button}\n                        onClick={handleAllRight}\n                        disabled={left.length === 0}\n                        aria-label=\"move all right\"\n                    >\n                        â«\n                    </Button>\n                    <Button\n                        variant=\"outlined\"\n                        size=\"small\"\n                        className={classes.button}\n                        onClick={handleCheckedRightInternal}\n                        disabled={leftChecked.length === 0}\n                        aria-label=\"move selected right\"\n                    >\n                        &gt;\n                    </Button>\n                    <Button\n                        variant=\"outlined\"\n                        size=\"small\"\n                        className={classes.button}\n                        onClick={handleCheckedLeftInernal}\n                        disabled={rightChecked.length === 0}\n                        aria-label=\"move selected left\"\n                    >\n                        &lt;\n                    </Button>\n                    <Button\n                        variant=\"outlined\"\n                        size=\"small\"\n                        className={classes.button}\n                        onClick={handleAllLeft}\n                        disabled={right.length === 0}\n                        aria-label=\"move all left\"\n                    >\n                        âª\n                    </Button>\n                </Grid>\n            </Grid>\n            <Grid item>{customList(right, 'Selected')}</Grid>\n        </Grid>\n    );\n}\n\nexport default TransferList\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport HomeWorkTwoToneIcon from '@material-ui/icons/HomeWorkTwoTone';\nimport {SortableContainer, SortableElement} from 'react-sortable-hoc';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        justifyContent: 'center',\n        flexWrap: 'wrap',\n        listStyle: 'none',\n        padding: theme.spacing(0.5),\n        margin: 0\n    },\n    chip: {\n        margin: theme.spacing(0.5),\n    },\n}));\n\nconst ChipsArray = ({tourItems, moveConstraints}) =>  {\n    const classes = useStyles();\n    const SortableItem = SortableElement(({item}) =>\n        <ListItem key={item.id} button={true}>\n            <Chip\n                size=\"small\"\n                icon={<HomeWorkTwoToneIcon />}\n                label={item.label}\n                className={classes.chip}\n            />\n        </ListItem>);\n\n    const SortableList = SortableContainer(({items}) => {\n        return (\n            <List component=\"div\" className=\"topContainer\" width={\"100%\"}>\n                {items.map((item, index) => (\n                    <SortableItem key={`item-${item.id}`} index={index} item={item} />\n                ))}\n            </List>\n        );\n    });\n\n\n    return (\n        <SortableList items={tourItems} onSortEnd={moveConstraints} />\n    );\n}\n\nexport default ChipsArray;","import TransferList from \"./TransferList\";\nimport React from 'react';\nimport ChipsArray from \"./ChipsArray\";\n\nimport {intersection, not} from '../../../../util/tools'\nimport {arrayMove} from \"react-sortable-hoc\";\nimport {useSelector} from \"react-redux\";\n\n\nconst TourItemsSubset = (props) => {\n    const {selected, constraints, globalConstraint, setGlobalConstraint, setConsts, addConst} = props;\n\n    const tourItems = useSelector(state => (state.tourItemsReducer.tourItems));\n\n    const [right, setRight] = React.useState([]);\n\n    let availableTourItems = not(tourItems, globalConstraint);\n    const [left, setLeft] = React.useState(availableTourItems);\n\n    const handleAllRight = () => {\n        let rightValue = right.concat(left);\n        setRight(rightValue);\n        setConsts(rightValue);\n        setGlobalConstraint((old) => (old.concat(left)))\n        setLeft([]);\n    };\n\n    const handleCheckedRight = (leftChecked) => {\n        let rightValue = right.concat(leftChecked);\n        setRight(rightValue);\n        addConst(leftChecked);\n        setGlobalConstraint((old) => (old.concat(leftChecked)))\n        setLeft(not(left, leftChecked));\n    };\n\n    const handleCheckedLeft = (rightChecked) => {\n        setLeft(left.concat(rightChecked));\n        let rightValue = not(right, rightChecked);\n        setRight(rightValue);\n        setGlobalConstraint(old => (not(old, rightChecked)));\n        setConsts(rightValue);\n    };\n\n    const handleAllLeft = () => {\n        setLeft(left.concat(right));\n        setRight([]);\n        setGlobalConstraint(old => (not(old, right)));\n        setConsts([]);\n    };\n\n    const newItems = not(availableTourItems, left.concat(constraints));\n    const newLeft = intersection(left, availableTourItems).concat(newItems);\n    const newRight = intersection(constraints, tourItems);\n    return (\n        !selected ?\n            <ChipsArray tourItems={newRight} moveConstraints={makeMoveConstraints(constraints, setConsts)}/> :\n            <TransferList left={newLeft} right={newRight} handleAllLeft={handleAllLeft} handleAllRight={handleAllRight}\n                          handleCheckedLeft={handleCheckedLeft} handleCheckedRight={handleCheckedRight}/>\n\n    )\n}\n\nconst makeMoveConstraints = (constraints, setConstraints) => {\n    return ({oldIndex, newIndex}) => {\n        setConstraints(arrayMove([...constraints], oldIndex, newIndex));\n    }\n}\n\nexport default TourItemsSubset;","import React, {memo} from \"react\";\n\nimport {\n    ListItem,\n    Checkbox,\n    IconButton,\n    ListItemSecondaryAction\n} from \"@material-ui/core\";\nimport DeleteOutlined from \"@material-ui/icons/DeleteOutlined\";\nimport TourItemsSubset from \"../../TourItemsSubSet/TourItemsSubset\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n\nconst TodoListItem = memo((props) => {\n    const {selected, constraints, globalConstraint, setGlobalConstraint, addConst, setConsts, onButtonClick} = props;\n    return (<ListItem divider={props.divider} ContainerComponent=\"div\">\n                <ListItemIcon>\n                    <Checkbox\n                        onClick={props.onCheckBoxToggle}\n                        checked={selected}\n                        disableRipple\n                    />\n                </ListItemIcon>\n                <ListItemText>\n                    <TourItemsSubset  {...{...{selected, constraints, globalConstraint, setGlobalConstraint, addConst, setConsts}}}/>\n                </ListItemText>\n                <ListItemSecondaryAction component=\"div\">\n                    <IconButton aria-label=\"Delete Todo\" onClick={onButtonClick}>\n                        <DeleteOutlined/>\n                    </IconButton>\n                </ListItemSecondaryAction>\n            </ListItem>\n        )\n    }\n);\n\nexport default TodoListItem;\n","import {handleActions} from 'redux-actions'\n\nconst ADD_TODO_ITEM = 'ADD_TODO_ITEM'\nconst REMOVE_TODO_ITEM = 'REMOVE_TODO_ITEM'\nconst UPDATE_TODO_ITEM = 'UPDATE_TODO_ITEM'\nconst POP_TODO_ITEM = 'POP_TODO_ITEM'\n\nconst ADD_CONSTRAINT_ITEM = 'ADD_CONSTRAINT_ITEM'\nconst SET_CONSTRAINT_ITEM = 'SEt_CONSTRAINT_ITEM'\n\n\nexport const addTodoActionCreator = (toDoIdx) => {\n    return {\n        type: ADD_TODO_ITEM,\n        payload: {\n            toDoIdx: toDoIdx\n        }\n    }\n}\n\n\nexport const removeTodoActionCreator = (toDoIdx, index) => {\n    return {\n        type: REMOVE_TODO_ITEM,\n        payload: {\n            index: index,\n            toDoIdx: toDoIdx\n        }\n    }\n}\n\nexport const popLastTodoAction = (toDoIdx) => {\n    return {\n        type: POP_TODO_ITEM,\n        payload: {\n            toDoIdx: toDoIdx\n        }\n    }\n}\n\nexport const updateTodoActionCreator = (toDoIdx, index) => {\n    return {\n        type: UPDATE_TODO_ITEM,\n        payload: {\n            index: index,\n            toDoIdx: toDoIdx\n        }\n    }\n}\n\nexport const addConstraintActionCreator = (toDoIdx, constraint, constrIdx) => {\n    return {\n        type: ADD_CONSTRAINT_ITEM,\n        payload: {\n            toDoIdx: toDoIdx,\n            constraint: constraint,\n            constrIdx: constrIdx\n        }\n    }\n}\n\nexport const setConstraintActionCreator = (toDoIdx, constraints, constrIdx) => {\n    return {\n        type: SET_CONSTRAINT_ITEM,\n        payload: {\n            toDoIdx: toDoIdx,\n            constraints: constraints,\n            constrIdx: constrIdx\n        }\n    }\n}\n\nfunction newState(state, toDoIdx, changedTodo) {\n    return {\n        todos: [\n            ...state.todos.slice(0, toDoIdx),\n            changedTodo,\n            ...state.todos.slice(toDoIdx + 1)\n        ]\n    };\n}\n\nexport const todoReducer = handleActions({\n        [ADD_TODO_ITEM]: (state, action) => {\n            const {toDoIdx} = action.payload;\n            const changedTodo = state.todos[toDoIdx].concat({\n                checked: false,\n                constraints: []\n            });\n            return newState(state, toDoIdx, changedTodo)\n        },\n        [REMOVE_TODO_ITEM]:\n            (state, action) => {\n                const {toDoIdx, index} = action.payload;\n                const changedTodo = state.todos[toDoIdx].filter((todo, currIndex) => index !== currIndex);\n                return newState(state, toDoIdx, changedTodo)\n            },\n        [POP_TODO_ITEM]:\n            (state, action) => {\n                const {toDoIdx} = action.payload;\n                const index = state.todos[toDoIdx].length - 1;\n                const changedTodo = state.todos[toDoIdx].filter((todo, currIndex) => index !== currIndex);\n                return newState(state, toDoIdx, changedTodo)\n            },\n        [UPDATE_TODO_ITEM]:\n            (state, action) => {\n                const {toDoIdx, index} = action.payload;\n                const changedTodo = updateHlp(state, toDoIdx, index);\n                return newState(state, toDoIdx, changedTodo)\n            },\n        [ADD_CONSTRAINT_ITEM]: (state, action) => {\n            const {toDoIdx, constraint, constrIdx} = action.payload;\n            const oldToDo = state.todos[toDoIdx];\n            let changedTodo = [\n                ...oldToDo.slice(0, constrIdx),\n                {\n                    checked: oldToDo[constrIdx].checked,\n                    constraints: oldToDo[constrIdx].constraints.concat(constraint)\n                },\n                ...oldToDo.slice(constrIdx + 1)\n            ];\n            return newState(state, toDoIdx, changedTodo)\n        },\n        [SET_CONSTRAINT_ITEM]: (state, action) => {\n            const {toDoIdx, constraints, constrIdx} = action.payload;\n            const oldToDo = state.todos[toDoIdx];\n            let changedTodo = [\n                ...oldToDo.slice(0, constrIdx),\n                {\n                    checked: oldToDo[constrIdx].checked,\n                    constraints: constraints\n                },\n                ...oldToDo.slice(constrIdx + 1)\n            ];\n            return newState(state, toDoIdx, changedTodo)\n        }\n    },\n    {\n        todos: [[], [], [], []]\n    }\n)\n\nconst updateHlp = (state, toDoIdx, index) => {\n    return state.todos[toDoIdx].map((todo, currIndex) => {\n        if (index !== currIndex && todo.checked) {\n            return {\n                checked: false,\n                constraints: todo.constraints\n            };\n        }\n        if (index === currIndex) {\n            return {\n                checked: !todo.checked,\n                constraints: todo.constraints\n            }\n        }\n        return todo;\n    })\n}\n\n\n","import React, {memo} from \"react\";\nimport {List} from \"@material-ui/core\";\n\nimport TodoListItem from \"./TodoListItem\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {useDispatch, useSelector} from 'react-redux';\nimport {addConstraintActionCreator, setConstraintActionCreator} from \"../../../../../modules/todoActions\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        minWidth: '1200px',\n        overflow: \"scroll\",\n        padding: '0 0px',\n        color: 'white',\n    },\n}));\n\n\nconst TodoList = memo(props => {\n        const classes = useStyles();\n        const {todoIdx, globalConstraint, setGlobalConstraint, onItemRemove, onItemCheck} = props;\n        const dispatch = useDispatch();\n        const todo = useSelector(state => state.todoReducer.todos[todoIdx]);\n\n        return (\n            <>\n                {todo.length > 0 && (\n                    <List className={classes.root} component=\"div\">\n                        {todo.map((todoItem, idx) => (\n                            <TodoListItem\n                                {...{\n                                    globalConstraint: globalConstraint,\n                                    setGlobalConstraint: setGlobalConstraint,\n                                    addConst: constr => dispatch(addConstraintActionCreator(todoIdx, constr, idx)),\n                                    setConsts: constr => dispatch(setConstraintActionCreator(todoIdx, constr, idx)),\n                                    selected: todo[idx].checked,\n                                    constraints: todo[idx].constraints\n                                }}\n                                key={`TodoItem.${idx}`}\n                                divider={idx !== todo.length - 1}\n                                onButtonClick={() => onItemRemove(idx)}\n                                onCheckBoxToggle={() => onItemCheck(idx)}\n                            />\n                        ))}\n                    </List>\n\n                )}\n            </>\n        )\n    }\n);\n\nexport default TodoList;\n","import React, {memo, useEffect} from \"react\";\n\n\nimport AddTodo from \"./components/AddTodo\";\nimport TodoList from \"./components/TodoList\";\nimport Grid from \"@material-ui/core/Grid\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {addTodoActionCreator, removeTodoActionCreator, updateTodoActionCreator, popLastTodoAction} from \"../../../../modules/todoActions\";\nimport {useSnackbar} from \"notistack\";\nimport {useDispatch, useSelector} from 'react-redux';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n}));\n\n\nconst TodoApp =\n    memo((props) => {\n        const {todoIdx, maxToDo} = props;\n        const [globalConstraint, setGlobalConstraint] = React.useState([]);\n        const {enqueueSnackbar} = useSnackbar();\n        const dispatch = useDispatch();\n        const todo = useSelector(state => state.todoReducer.todos[todoIdx]);\n\n\n        const classes = useStyles();\n        const passOnProps = {\n            todoIdx: todoIdx,\n            globalConstraint: globalConstraint,\n            setGlobalConstraint: setGlobalConstraint\n        }\n\n        useEffect(() => {\n            let noVehicles = Number(maxToDo);\n            let diff = todo.length -noVehicles;\n            for (let i = 0; i < diff; i++){\n                dispatch(popLastTodoAction(todoIdx))\n            }\n        }, [maxToDo, todo.length, todoIdx, dispatch]);\n\n        return (\n            <Grid\n                container\n                direction=\"column\"\n                justify=\"space-evenly\"\n                alignItems=\"flex-start\"\n                className={classes.root}\n            >\n                <Grid item xs={12}>\n                    <AddTodo onButtonClick={() => {\n                        let noVehicles = Number(maxToDo);\n                        if (todo.length >= noVehicles) {\n                            enqueueSnackbar(noVehicles + \" vehicles can cover only \" + noVehicles +\n                                \" tours\", {variant: 'error'});\n                            return;\n                        }\n                        dispatch(addTodoActionCreator(todoIdx));\n                    }}\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TodoList\n                        {...{...passOnProps}}\n                        onItemCheck={idx => dispatch(updateTodoActionCreator(todoIdx, idx))}\n                        onItemRemove={idx => {\n                            dispatch(removeTodoActionCreator(todoIdx, idx));\n                        }}\n                    />\n                </Grid>\n            </Grid>\n        );\n    })\n\n\nexport default TodoApp;","import TextField from \"@material-ui/core/TextField\";\nimport React, {useEffect} from \"react\";\nimport {useSnackbar} from \"notistack\";\nimport Select from '@material-ui/core/Select';\nimport {useSelector} from \"react-redux\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport {Controller} from \"react-hook-form\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {MuiPickersUtilsProvider, TimePicker} from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\n\n\nconst Settings = ({register, errors, control}) => {\n    const {enqueueSnackbar} = useSnackbar();\n    const tourItems = useSelector(state => (state.tourItemsReducer.tourItems));\n\n    const error = (message) => {\n        if (message === undefined) return;\n        enqueueSnackbar(message, {variant: 'error', preventDuplicate: true});\n    }\n\n    useEffect(() => {\n        error(errors?.email?.message);\n        error(errors?.timeout?.message);\n        error(errors?.vehicles?.message);\n        error(errors?.defaultDuration?.message);\n        error(errors?.weight_visits?.message);\n        error(errors?.weight_length?.message);\n        error(errors?.depot?.message);\n        error(errors?.starttime?.message);\n        error(errors.planningType?.message);\n    }, [errors.email, errors.timeout, errors.vehicles, errors.defaultDuration, errors.weight_visits,\n        errors.weight_length, errors.depot, errors.starttime, errors.planningType, errors]);\n\n    return <>\n        <FormControl\n            style={{minWidth: 300}}\n            error={Boolean(errors.depot)}\n        >\n            <InputLabel id=\"demo-simple-select-label\">\n                Select Start Location\n            </InputLabel>\n\n            <Controller\n                as={\n                    <Select>\n                        {tourItems.map(item => (<MenuItem key={item.id}\n                                                          value={item.id}>{item.code}/{item.street}/{item.number}/{item.name}</MenuItem>))}\n                    </Select>\n                }\n                name=\"depot\"\n                rules={{required: \"Start Location is required\"}}\n                control={control}\n            />\n        </FormControl>\n\n        <Controller\n            name=\"starttime\"\n            control={control}\n            render={({ onChange, value }) => (\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                    <TimePicker\n                        clearable\n                        ampm={false}\n                        label=\"Select Start Time\"\n                        value={!value? null : value}\n                        onChange={onChange}\n                        error={Boolean(errors.starttime)}\n                    />\n                </MuiPickersUtilsProvider>\n            )}\n            rules={{required: \"Start Time is required\"}}\n        />\n\n        <FormControl\n            style={{minWidth: 120}}\n            error={Boolean(errors.planningType)}\n        >\n            <InputLabel id=\"demo-simple-select-label\">\n                Select a Planning Type\n            </InputLabel>\n\n            <Controller\n                as={\n                    <Select>\n                        <MenuItem key={\"foot\"} value={\"foot\"}>foot\n                        </MenuItem>\n                        <MenuItem key={\"car\"} value={\"car\"}>car\n                        </MenuItem>\n                    </Select>\n                }\n                name=\"planningType\"\n                rules={{required: \"Planning Type is required\"}}\n                control={control}\n                defaultValue={\"car\"}\n            />\n        </FormControl>\n\n        <TextField\n            id=\"email\"\n            label=\"Email address\"\n            type=\"email\"\n            name=\"email\"\n            autoComplete=\"email\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            error={!!errors.email}\n            inputRef={register(\n                {\n                    required: \"Email is mandatory!\",\n                    pattern: {\n                        value: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n                        message: \"Must be a valid email\"\n                    }\n                })\n            }\n        />\n\n        <TextField\n            id=\"timeout\"\n            label=\"Timout Minutes\"\n            type=\"number\"\n            name=\"timeout\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            defaultValue={1}\n            error={!!errors.timeout}\n            inputRef={\n                register(\n                    {\n                        required: \"Please specify Timeout\",\n                        min: {value: 1, message: \"Timeout must be at least 1.\"},\n                        max: {value: 10, message: \"Timeout can be at most 10.\"}\n                    })}\n        />\n\n        <TextField\n            id=\"vehicles\"\n            label=\"Number of Vehicles\"\n            type=\"number\"\n            name=\"vehicles\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            defaultValue={1}\n            error={!!errors.vehicles}\n            inputRef={\n                register(\n                    {\n                        required: \"Please specify Number of Vehicles\",\n                        min: {value: 1, message: \"At lest one vehicle is required.\"},\n                        max: {value: 20, message: \"More than 20 vehicles not supported.\"}\n                    })}\n        />\n\n        <TextField\n            id=\"defaultDuration\"\n            label=\"Default Duration Minutes\"\n            type=\"number\"\n            name=\"defaultDuration\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            defaultValue={1}\n            error={!!errors.defaultDuration}\n            inputRef={\n                register(\n                    {\n                        required: \"Please specify Timeout\",\n                        min: {value: 0, message: \"Must be greater zero.\"},\n                    })}\n        />\n\n        <TextField\n            id=\"weight_visits\"\n            label=\"Importance of Tour Length Equality\"\n            type=\"number\"\n            name=\"weight_visits\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            defaultValue={1}\n            error={!!errors.weight_visits}\n            inputRef={\n                register(\n                    {\n                        required: \"Please specify Importance\",\n                        min: {value: 0, message: \"Must be greater zero.\"},\n                        max: {value: 100, message: \"More than 100 not supported.\"}\n                    })}\n        />\n\n        <TextField\n            id=\"weight_lenght\"\n            label=\"Importance of Total Time Travelled\"\n            type=\"number\"\n            name=\"weight_length\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            defaultValue={1}\n            error={!!errors.weight_length}\n            inputRef={\n                register(\n                    {\n                        required: \"Please specify Importance\",\n                        min: {value: 0, message: \"Must be greater zero.\"},\n                        max: {value: 100, message: \"More than 100 not supported.\"}\n                    })}\n        />\n\n\n        </>;\n}\n\nexport default Settings;","import Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n}));\n\nconst CustomAccordion = ({panel, component, heading, details, expanded, setExpanded}) => {\n\n    const handleChange = (panel) => (event, isExpanded) => {\n        setExpanded(isExpanded ? panel : false);\n    };\n    const classes = useStyles();\n\n    const control = panel + \"bh-content\";\n    const header = panel + \"bh-header\";\n    return (\n        <Accordion expanded={expanded === panel} onChange={handleChange(panel)}>\n            <AccordionSummary\n                expandIcon={<ExpandMoreIcon/>}\n                aria-controls={control}\n                id={header}\n            >\n                <Typography className={classes.heading}>{heading}</Typography>\n                <Typography className={classes.secondaryHeading}>\n                    {details}\n                </Typography>\n            </AccordionSummary>\n            <AccordionDetails>\n                {component}\n            </AccordionDetails>\n        </Accordion>\n    )\n}\n\nexport default CustomAccordion;","import React, {Fragment, useEffect} from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport {useForm} from \"react-hook-form\";\nimport 'react-dual-listbox/lib/react-dual-listbox.css';\nimport TodoApp from \"../ToDoList/ToDo\"\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {useSelector} from \"react-redux\";\nimport Settings from \"./Settings\";\nimport CustomAccordion from \"./CustomAccordion\";\nimport {url} from '../../../../util/tools'\nimport {useSnackbar} from \"notistack\";\n\nconst moment = require('moment')\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    }\n}));\n\n\nconst TourOptionsForm = (props) => {\n    const {setStartTime} = props;\n    const theState = useSelector(state => state);\n    const {enqueueSnackbar} = useSnackbar();\n\n    const {register, errors, watch, getValues, trigger, control} = useForm({\n        mode: 'onChange',\n        defaultValues: {\n            depot: \"\",\n            email: \"\",\n            timeout: 3,\n            vehicles: 1,\n            defaultDuration: 1,\n            weight_visits: 1,\n            weight_lenght: 1\n        }\n    });\n\n    const watchVehicles = watch(\"vehicles\", 1);\n    const watchStartTime = watch(\"starttime\");\n\n    const classes = useStyles();\n    const [expanded, setExpanded] = React.useState(false);\n\n    useEffect(() => {\n        setStartTime(old => watchStartTime);\n    }, [watchStartTime]);\n\n    const onClick = () => {\n        if (theState.tourItemsReducer.tourItems.length <= 1) {\n            enqueueSnackbar(\"There must be more than one tour item!\", {variant: 'error'});\n            return;\n        }\n        uiToJson(trigger, getValues, theState)\n            .then(json => {\n                if (json !== null) {\n                    postRequest(json)\n                        .then(response => {\n                            enqueueSnackbar(\"Successful submitted! Job ID \" + response.id + \" Job Status: \" + response.status , {variant: 'info'});\n                        })\n                        .catch(error => {\n                            enqueueSnackbar(error.message, {variant: 'error'});\n                        })\n                }\n            });\n    }\n\n    const onDownload = () => {\n        if (theState.tourItemsReducer.tourItems.length > 0) {\n            download(theState.tourItemsReducer.tourItems);\n        } else {\n            enqueueSnackbar(\"There must be at least one tour item!\", {variant: 'warning'});\n        }\n    }\n\n    return (\n        <Fragment>\n\n            <div className={classes.root}>\n                <CustomAccordion panel={\"panel1\"}\n                                 component={<Settings register={register} errors={errors} control={control}/>}\n                                 heading={\"General Settings\"} details={\"Basic Driver Values for the algorithm\"}\n                                 expanded={expanded} setExpanded={setExpanded}/>\n                <CustomAccordion panel={\"panel2\"} component={<TodoApp {...{\n                    ...props, ...{\n                        todoIdx: 0,\n                        maxToDo: watchVehicles\n                    }\n                }}/>} heading={\"Tour Assignment\"} details={\"Tour Items must be an the nth tour\"} expanded={expanded}\n                                 setExpanded={setExpanded}/>\n                <CustomAccordion panel={\"panel3\"} component={<TodoApp {...{\n                    ...props, ...{\n                        todoIdx: 1,\n                        maxToDo: Number.MAX_VALUE\n                    }\n                }}/>} heading={\"Tour Constraints\"} details={\"Tour Items  on the same tour in arbitrary order\"}\n                                 expanded={expanded}\n                                 setExpanded={setExpanded}/>\n\n                <CustomAccordion panel={\"panel4\"} component={<TodoApp {...{\n                    ...props, ...{\n                        todoIdx: 2,\n                        maxToDo: Number.MAX_VALUE\n                    }\n                }}/>} heading={\"Tour Constraints Ordered\"} details={\"Tour Items on the same tour in given order\"}\n                                 expanded={expanded}\n                                 setExpanded={setExpanded}/>\n\n                <CustomAccordion panel={\"panel5\"} component={<TodoApp {...{\n                    ...props, ...{\n                        todoIdx: 3,\n                        maxToDo: Number.MAX_VALUE\n                    }\n                }}/>} heading={\"Tour Constraints Different\"} details={\"Tour Items that must be on different routes\"}\n                                 expanded={expanded}\n                                 setExpanded={setExpanded}/>\n\n            </div>\n\n\n            <Button\n                color=\"secondary\"\n                variant=\"outlined\"\n                onClick={onClick}\n            >\n                Submit\n            </Button>\n            <Button\n                color=\"secondary\"\n                variant=\"outlined\"\n                onClick={onDownload}\n            >\n                Download\n            </Button>\n\n\n        </Fragment>\n    );\n};\n\nconst postRequest = (json) => {\n    const requestOptions = {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify(json)\n    };\n    return fetch(url() + 'vrp', requestOptions)\n        .then(async response => {\n            //  console.log(await response.text());\n            const data = await response.json();\n\n            // check for error response\n            if (!response.ok) {\n                // get error message from body or default to response status\n                const error = (data && data.message) || response.status;\n                return Promise.reject(error);\n            }\n            return data;\n        });\n}\n\n\nfunction constraintsToTourItemsIndex(theState, tourItemsIds, index) {\n    return theState.todoReducer.todos[index]\n        .map(x => x.constraints)\n        .map(x => x.map(y => y.id)\n            .map(z => tourItemsIds.indexOf(z)));\n}\n\n\nconst uiToJson = async (trigger, getValues, theState) => {\n    const generalSettingsValid = await trigger();\n    if (!generalSettingsValid) return null;\n\n    let settingsValues = getValues();\n    let tourItemsIds = theState.tourItemsReducer.tourItems.map(x => x.id);\n    let res = {\n        recipent: settingsValues.email,\n        data: theState.tourItemsReducer.tourItems,\n        constraints: {\n            num_visits_to_max_tour_len_ration: [\n                Number(settingsValues.weight_visits),\n                Number(settingsValues.weight_length)\n            ],\n            timeout: Number(settingsValues.timeout) * 60,\n            depot: tourItemsIds.indexOf(settingsValues.depot),\n            planningType: settingsValues.planningType,\n            num_vehicles: Number(settingsValues.vehicles),\n            duration: Number(settingsValues.defaultDuration),\n            fixed_arcs: [],\n            assign_to_route: constraintsToTourItemsIndex(theState, tourItemsIds, 0),\n            same_route: constraintsToTourItemsIndex(theState, tourItemsIds, 1),\n            same_route_ordered: constraintsToTourItemsIndex(theState, tourItemsIds, 2),\n            different_route: constraintsToTourItemsIndex(theState, tourItemsIds, 3),\n            dwell_duration: dwellDuration(theState, tourItemsIds, settingsValues.defaultDuration),\n            time_windows: timeWindow(theState, tourItemsIds, settingsValues.starttime)\n        }\n    };\n    console.log(res);\n    return res;\n}\n\nfunction download(json) {\n    const a = document.createElement(\"a\");\n    const file = new Blob([JSON.stringify(json)], {type: \"text/plain\"});\n    a.href = URL.createObjectURL(file);\n    a.download = \"touritems.json\";\n    a.click();\n}\n\nconst dwellDuration = (theState, tourItemsIds, defaultDuration) => {\n    return theState.tourItemsReducer.tourItems.filter(x => x.hasOwnProperty('duration')).map(item => ({\n        id: tourItemsIds.indexOf(item.id),\n        duration: item.duration * 60\n    })).concat([{id: -1, duration: Number(defaultDuration) * 60}]);\n}\n\nfunction timeDiffMinutes(later, earlier) {\n    return Math.round(moment.duration(moment(later).diff(earlier)).asMinutes());\n}\n\nconst timeWindow = (theState, tourItemsIds, starttime) => {\n    let result = theState.tourItemsReducer.tourItems\n        .filter(x => x.hasOwnProperty('timewindowstart') && x.hasOwnProperty('timewindowend'))\n        .filter(x => x.timewindowstart !== null && x.timewindowend != null)\n        .map(item => ({\n            id: tourItemsIds.indexOf(item.id),\n            interval: [timeDiffMinutes(item.timewindowstart, starttime), timeDiffMinutes(item.timewindowend, starttime)]\n        }));\n    return result.concat([{\n        id: 0,\n        interval: [0, 0]\n    }]);\n\n}\nexport default TourOptionsForm;\n","import React, {useState} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport {Typography} from '@material-ui/core';\nimport TourItems from \"./input/custom/Tour/TourItems\";\nimport TourOptions from \"./input/custom/Tour/TourOptions\";\nimport {RouteIdProvider} from \"./RouteIdContext\";\nimport RoutesIdForm from \"./RoutesIdForm\";\nimport TourResult from \"./input/custom/Tour/TourResult\";\nimport {SnackbarProvider} from \"notistack\";\n\n\nconst useStyles = makeStyles(theme => ({\n    toolbar: theme.mixins.toolbar,\n    title: {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.default,\n        padding: theme.spacing(3),\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(3),\n    },\n    fullWidth: {\n        width: '100%',\n    },\n}));\n\nfunction MainContent() {\n    const classes = useStyles();\n    const [startTime, setStartTime] = useState(null);\n    return (\n        <main className={classes.fullWidth}>\n            <div className={classes.toolbar}/>\n            <div className={classes.title}>\n                <Typography variant='h6'>Tour Planning</Typography>\n            </div>\n            <div className={classes.content}>\n                <SnackbarProvider maxSnack={3}>\n                    <TourItems startTime={startTime}/>\n                    <TourOptions setStartTime={setStartTime}/>\n                </SnackbarProvider>\n\n                {/*<RouteIdProvider>\n                    <RoutesIdForm/>\n                    <TourResult/>\n                </RouteIdProvider>*/}\n            </div>\n        </main>\n    );\n}\n\nexport default MainContent;","import React, {useState, createContext} from 'react';\n\nexport const RouteIdContext = createContext('');\n\n\nexport const RouteIdProvider = (props) => {\n    const [routeId, setRouteId] = useState('No Value yet');\n\n    return <RouteIdContext.Provider value={[routeId, setRouteId]}>\n        {props.children}\n    </RouteIdContext.Provider>\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TopMenu from '../components/TopMenu';\nimport SideMenu from '../components/SideMenu';\nimport Footer from '../components/Footer';\nimport MainContent from '../components/MainContent';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n}));\n\nfunction Home() {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            {/*<TopMenu />*/}\n            {/*<SideMenu />*/}\n            <MainContent />\n            {/*<Footer />*/}\n        </div>\n    );\n}\n\nexport default Home;","import React from 'react';\nimport './App.css';\n\nimport Home from './pages/Home'\n\nfunction App() {\n  return <Home />;\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {handleActions} from \"redux-actions\";\n\n\nconst SET_DEPOT = \"SET_DEPOT\";\n\nexport const setDepot = (id) => {\n    return {\n        type: SET_DEPOT,\n        payload: {\n            id: id\n        }\n    }\n}\n\nexport const settingsReducer = handleActions({\n        [SET_DEPOT]: (state, action) => {\n            const {id} = action.payload;\n            return {...state, depot: id};\n        }\n    },\n    {\n        depot: '',\n        email: \"\",\n        timeout: 3,\n        vehicles: 1,\n        duration: 1,\n        weight_visits: 1,\n        weight_lenght: 1\n    }\n)\n","import { combineReducers } from 'redux'\nimport {tourItemsReducer} from \"./tourItemsActions\";\nimport {todoReducer} from \"./todoActions\";\nimport {settingsReducer} from \"./SettingsReducer\";\n\nconst allReducers = combineReducers({\n    tourItemsReducer: tourItemsReducer,\n    todoReducer: todoReducer,\n    settingsReducer: settingsReducer\n})\n\nexport default allReducers;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from 'react-redux'\nimport {createStore} from 'redux'\nimport allReducers from \"./modules\";\n\nReactDOM.render(\n    <Provider store={createStore(\n        allReducers\n       // window.__REDUX_DEVTOOLS_EXTENSION__ / window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    )}>\n        <App/>\n    </Provider>\n    ,\n\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}